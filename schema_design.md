# Enhanced Citation Network - Neo4j Schema Design

This document outlines the graph schema for the Enhanced Citation Network (ECN).

## Nodes

### `Paper`
Represents a scientific paper.

*   **Labels:** `:Paper`
*   **Properties:**
    *   `id`: String (Unique, e.g., arXiv ID "2108.07258" or DOI)
    *   `title`: String
    *   `year`: Integer
    *   `venue`: String
    *   `abstract`: String
    *   `paper_type`: String (e.g., "Survey", "Methodology")
    *   `problem_statement`: String (Extracted from Intro)
    *   `core_method`: String (Extracted from Method)
    *   `key_findings`: String (Extracted from Experiments)
    *   `embedding_problem`: List<Float> (Vector embedding of problem statement)
    *   `embedding_method`: List<Float> (Vector embedding of method)

### `Author` (Optional)
Represents an author of a paper.

*   **Labels:** `:Author`
*   **Properties:**
    *   `name`: String
    *   `id`: String (Unique, e.g., OpenAlex ID)

## Relationships

### `CITES`
Represents an explicit bibliographic citation.

*   **Start Node:** `:Paper` (The citing paper)
*   **End Node:** `:Paper` (The cited paper)
*   **Type:** `:CITES`
*   **Properties:**
    *   `context`: String (The sentence where the citation occurs, if available)
    *   `intent`: String (Coarse intent: "Background", "Method", "Result")

### `SEMANTIC_RELATION`
Represents an inferred semantic relationship between two papers (The core of ECN).

*   **Start Node:** `:Paper`
*   **End Node:** `:Paper`
*   **Type:** `:SEMANTIC_RELATION`
*   **Properties:**
    *   `relation_type`: String (Enum: "Extend", "Support", "Contrast", "Alternative Approach", "Method Reuse", "Background")
    *   `confidence`: Float (0.0 - 1.0)
    *   `source`: String (Which view generated this? "View T", "View L", "View G")
    *   `reasoning`: String (Explanation generated by LLM or heuristic rule)

### `AUTHORED` (Optional)
Links authors to papers.

*   **Start Node:** `:Author`
*   **End Node:** `:Paper`
*   **Type:** `:AUTHORED`

## Indexes & Constraints

1.  **Uniqueness Constraint:** `Paper.id` must be unique.
2.  **Uniqueness Constraint:** `Author.id` must be unique.
3.  **Vector Index:** Create vector indexes on `Paper.embedding_problem` and `Paper.embedding_method` for similarity search.
